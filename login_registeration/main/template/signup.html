<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sign up Form</title>
    <link rel="stylesheet" href="static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/774f74ddac.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  </head>
  <body>
    <nav>
          <div class="logo">Logo</div>
         <ul>
   <li><a class="active" href="/">Home</a></li>
   {% if current_user.is_authenticated%}
   <li> <a class="active" href="{{url_for('user_bp.reg')}}">add patient</a></li>
   <li> <a class="active" href="{{url_for('auth.logout')}}">logout</a></li>
   {%endif%}

         </ul>
   </nav>
         <section class="log-section">
             <div class="Container">


<div class="user0 singupBx">
  <div class="formBx">
  <form action="#" method="post">
      <h2>Crate an account</h2>
      <input type="text" name="username" placeholder="User name " pattern="^([a-z]|[A-Z]|[0-9]){4,8}$" required>
      <input type="email" name="email" placeholder="Email address" pattern="^([a-z]|[A-Z]|[0-9]){4,8}$"  required>
      <input type="password" onkeyup="trigger()" name="password" placeholder="Create password"  pattern="^([a-z]|[A-Z]|[0-9]){4,8}$" required>

      <div class="indicator">
        <span class="weak"></span>
        <span class="medium"></span>
        <span class="strong"></span>
      </div>
      <div class="textme"></div>
      <input type="password" name="repassword" placeholder="Confirm password" pattern="^([a-z]|[A-Z]|[0-9]){4,8}$" required>
      <br>
      {{error}}
      <br>
      <input type="submit" name="submitsignup" value="Sign up">
      <p class="singup">Already have an account ? <a href="login" onclick="toggleForm();">Sign in.</a></p>
  </form>
</div>
<div class="log-img">
  <img src="/static/imges/d2.jpg" alt="">
</div>
</div>
</div>
</section>
<script>
function toggleForm() {
    var container = document.querySelector('.Container');
    container.classList.toggle('active')
}
const indicator=document.querySelector(".indicator");
const input=document.querySelector('input[name="passwordSign"]');
const reinput=document.querySelector('input[name="repassword"]');
const weak=document.querySelector(".weak");
const medium=document.querySelector(".medium");
const strong=document.querySelector(".strong");
const text =document.querySelector(".textme");
const retext =document.querySelector(".retext");

let regExpWeak = /[a-zA-Z]/;
let regExpMedium = /\d+/;
let regExpStrong = /.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/;
/*function retrigger() {
  if (input.value != reinput.value){
    retext.textContent = "Not Match";
  }
  else{
      retext.textContent="";

  }

}*/
function trigger(){
if(input.value != ""){
  indicator.style.display = "block";
  indicator.style.display = "flex";
  if(input.value.length <= 3 && (input.value.match(regExpWeak) || input.value.match(regExpMedium) || input.value.match(regExpStrong)))no=1;
  if(input.value.length >= 6 && ((input.value.match(regExpWeak) && input.value.match(regExpMedium)) || (input.value.match(regExpMedium) && input.value.match(regExpStrong)) || (input.value.match(regExpWeak) && input.value.match(regExpStrong))))no=2;
  if(input.value.length >= 6 && input.value.match(regExpWeak) && input.value.match(regExpMedium) && input.value.match(regExpStrong))no=3;
  if(no==1){
    weak.classList.add("active");
    text.style.display = "block";
    text.textContent = "Your password is too week";
    text.classList.add("weak");
  }
  if(no==2){
    medium.classList.add("active");
    text.textContent = "Your password is medium";
    text.classList.add("medium");
  }else{
    medium.classList.remove("active");
    text.classList.remove("medium");
  }
  if(no==3){
    weak.classList.add("active");
    medium.classList.add("active");
    strong.classList.add("active");
    text.textContent = "Your password is strong";
    text.classList.add("strong");
  }else{
    strong.classList.remove("active");
    text.classList.remove("strong");
  }
  showBtn.style.display = "block";
  showBtn.onclick = function(){
    if(input.type == "password"){
      input.type = "text";
      showBtn.textContent = "HIDE";
      showBtn.style.color = "#23ad5c";
    }else{
      input.type = "password";
      showBtn.textContent = "SHOW";
      showBtn.style.color = "#000";
    }
  }
}else{
  indicator.style.display = "none";
  text.style.display = "none";
  showBtn.style.display = "none";
}




}

</script>
</body>
</html>
